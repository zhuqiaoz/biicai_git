<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <a name="123">onclick</a>

    <label>输入：</label><input type="text" id="demo1"><br/>
    <label>输出：</label> <input type="textarea" id="demo2"></input>
    <script>
        var a={};
        var output=[];
        Object.defineProperty(a,'b',{   //给a对象添加b属性
            set:function(val){
                output['b']=val;
            },
            get:function(){
                return output['b'];
            }
        })
        var demo1=document.querySelector('#demo1');
        var demo2=document.querySelector('#demo2');
        demo1.onkeyup=function(){
            a.b=demo1.value;//给a对象添加b属性时候，触发了a的set方法，此时#demo1的value值赋值给output['b']。
            demo2.value=output['b'];
        }
     
    </script>
    <script>
    var aHello = {
    name : "hello",
    showName : function(){
        console.log(this.name);
        //console.log(this.tagName);
    }
}

document.querySelector('a').onclick = aHello.showName;
    
    </script>
<script>
// function promise_calss() {
//     return new Promise(function(resolve,reject){
//         setTimeout(function(){
//             var num = Math.floor(Math.random()*9+1);
//             if(num > 5){
//                 resolve(num);
//             }else{
//                 reject(num);
//             }
//         },1000)
//     })
// }

// promise_calss().then(function(data){
//     console.log('resolve');
//     console.log(data + '>5');
// },
// function(reason){
//     console.log('reject');
//     console.log(reason +'<5');
// }).catch(function(err){
//     console.error(err)
// })
// </script>

// <script>

// var promise_pd = function(){
//     return new Promise(function(resolve,reject){
//         var thank = function(){
//             var num = Math.floor(Math.random()*10)
//             if(num > 5 ){
//                 resolve(num)
//             }else{
//                 reject(num)
//             }
//         }

//         setTimeout(thank, 1000)
//     })
// }


// const promise_class = promise_pd();

// // promise_class.then(function(data){
// //     console.log('resolve')
// //     console.log(num)
// // },
// // function(reason){
// //     console.log('reject')
// //     console.log(reason)
// // }).then(function(value){
// //     console.log(value)
// // },function(reason){
// //     console.log(reason)
// // }).catch(function(err){
// //     console.log(err)
// // })


// promise_class.then(function(){
//     console.log('ok1')
// },function(){
//     console.log('err1')
// }).then(function(){
//     console.log('ok2')
// },function(){
//     console.log('err2')
// })






</script>


<script>
//Promis + generator
var promise_pl = function(time){
    return new Promise(function(resolve,reject){
        var task = function(){
            var num = Math.floor(Math.random()*10+0);
            if(num > 5 ){
                resolve(num)
            }else{
                reject(num)
            }
        }

        setTimeout(task,time)
    })
}

var func = function* (time){
    try {
        var rel1 = yield promise_pl(1000);
        var rel2 = yield promise_pl(3000);
    } catch (error) {
        console.log(error)
    }
}

var run = function(fn){
    var it = fn();

    function go(result){
        if (result.done) {
            return result.value;
        }

        return result.value.then(function(value){
            return go(it.next(value));
        },function(err){
            return go(it.throw(value));
        })
    }
    go(it.next());
}

run(func);

</script>


<script>
    var obj = {
        a:1,
        d:4,
        get b(){
            return 2;
        },
        set c(val){
            this._c_ = val*2;
        }
    };
    Object.defineProperty(obj,'d',{
        enumerable: false,
        configurable: false,
        writable: false,
        value: "static"
    })
    var myobj = Object.create(obj);

</script>
<script>
function muit(x){
    var fn = function(y){
        return muit(x+y);
    }
    fn.toString = function(){
        return x;
    }
    
    return fn;
}

muit(2)(6)(4)
</script>

<script>
    // async await promise  generator

    // function promise_02(){
    //     return new Promise(function(resolve,reject){
    //         var pd = function(){
    //             var num = Math.floor(Math.random()*10);
    //             if(num > 5){
    //                 resolve(num)
    //             }else{
    //                 reject(num)
    //             }
    //         }
    //         setTimeout(pd,2000)
    //     })
    // }

    // promise_02().then(function(data){
    //     console.log('resolve')
    //     console.log(data)
    // },function(reason){
    //     console.log('reject')
    //     console.log(reason)
    // })

</script>
<script>
    // function promise_03(ms){
    //     return new Promise(function(resolve,reject){
    //         setTimeout(function(){
    //             resolve('hello world')
    //         },ms)
    //     })
    // }

    // async function main_pd(){
    //     const x =await promise_03(2000);
    //     console.log(x)
    // }

    // main_pd()

</script>
<script>

function promise_04(ms){
    return new Promise(function(resolve,reject){
        var pd = function(){
            var num = Math.floor(Math.random()*10+1)
            if(num > 5){
                resolve(num)
            }else{
                reject(num)
            }
        };

        setTimeout(pd , ms);
    })
}


async function min(){
    var x = await promise_04(2500);

    var y = await promise_04(3000);

    return x,y

}

min().then(function(data){
    console.log('resolve')
    console.log(data)
},function(reason){
    console.log('reject')
    console.log(reason)
})

</script>
<script>
//String Number Boolean Null Undefined Symbol Object

function llist(str){
  return str.split('').reverse('').reduce(function(sum,value,index,arr){
    return ((index % 3 === 0)? value+',' : value)+sum;
  })
}

llist('1234567890')
</script>

</body>
</html>